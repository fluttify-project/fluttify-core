import Flutter
import UIKit
import #__import__#

class #__native_view__#Factory: NSObject, FlutterPlatformViewFactory {
    func create(withFrame frame: CGRect, viewIdentifier viewId: Int64, arguments args: Any?) -> FlutterPlatformView {
        return #__native_view__#PlatformView(viewId)
    }
}

class #__native_view__#PlatformView: NSObject, FlutterPlatformView {
   private let viewId: Int64

   init(_ viewId: Int64) {
       self.viewId = viewId
   }

   func view() -> UIView {
       let nativeView = #__native_view__#()
       HEAP_#__plugin_name__#[Int(viewId)] = nativeView
       return nativeView
   }

   deinit {
       HEAP_#__plugin_name__#.removeValue(forKey: Int(viewId))
   }
}